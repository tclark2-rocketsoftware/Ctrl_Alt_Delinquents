{"openapi":"3.1.0","info":{"title":"Quizruption API","description":"Interactive Quiz Web App API","version":"1.0.0"},"paths":{"/api/quizzes/":{"post":{"tags":["quizzes"],"summary":"Create Quiz","description":"Create a new quiz (Admin or user-generated)","operationId":"create_quiz_api_quizzes__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Quiz"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["quizzes"],"summary":"Get Quizzes","description":"List all available quizzes with optional filters","operationId":"get_quizzes_api_quizzes__get","parameters":[{"name":"quiz_type","in":"query","required":false,"schema":{"type":"string","title":"Quiz Type"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Quiz"},"title":"Response Get Quizzes Api Quizzes  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/quizzes/{quiz_id}":{"get":{"tags":["quizzes"],"summary":"Get Quiz","description":"Get a specific quiz by ID","operationId":"get_quiz_api_quizzes__quiz_id__get","parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Quiz"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["quizzes"],"summary":"Update Quiz","description":"Update a quiz (Admin-only functionality)","operationId":"update_quiz_api_quizzes__quiz_id__put","parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Quiz"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["quizzes"],"summary":"Delete Quiz","description":"Delete a quiz (Admin-only functionality)","operationId":"delete_quiz_api_quizzes__quiz_id__delete","parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/answers/submit":{"post":{"tags":["answers"],"summary":"Submit Quiz","description":"Submit quiz answers and calculate result","operationId":"submit_quiz_api_answers_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QuizSubmission"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailedResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/{result_id}":{"get":{"tags":["results"],"summary":"Get Result","description":"Fetch result summary with personality content","operationId":"get_result_api_results__result_id__get","parameters":[{"name":"result_id","in":"path","required":true,"schema":{"type":"integer","title":"Result Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DetailedResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/quiz/{quiz_id}":{"get":{"tags":["results"],"summary":"Get Quiz Results","description":"Get all results for a specific quiz","operationId":"get_quiz_results_api_results_quiz__quiz_id__get","parameters":[{"name":"quiz_id","in":"path","required":true,"schema":{"type":"integer","title":"Quiz Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResultResponse"},"title":"Response Get Quiz Results Api Results Quiz  Quiz Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/results/user/{user_id}":{"get":{"tags":["results"],"summary":"Get User Results","description":"Get all results for a specific user","operationId":"get_user_results_api_results_user__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ResultResponse"},"title":"Response Get User Results Api Results User  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jokes/daily":{"get":{"tags":["jokes"],"summary":"Get today's joke","description":"Returns a single AI (or fallback) generated joke cached for the day.","operationId":"daily_joke_api_jokes_daily_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/jokes/suggestions":{"post":{"tags":["jokes"],"summary":"Submit joke theme suggestion","description":"Allows users to suggest themes for future daily jokes.","operationId":"create_suggestion_api_jokes_suggestions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuggestionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/jokes/logs":{"get":{"tags":["jokes"],"summary":"View recent application logs","description":"Returns recent backend logs to help diagnose OpenAI requests.","operationId":"get_logs_api_jokes_logs_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Answer":{"properties":{"text":{"type":"string","title":"Text"},"is_correct":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Correct","default":false},"personality_tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality Tag"},"id":{"type":"integer","title":"Id"},"question_id":{"type":"integer","title":"Question Id"}},"type":"object","required":["text","id","question_id"],"title":"Answer"},"AnswerCreate":{"properties":{"text":{"type":"string","title":"Text"},"is_correct":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Correct","default":false},"personality_tag":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality Tag"}},"type":"object","required":["text"],"title":"AnswerCreate"},"DetailedResultResponse":{"properties":{"id":{"type":"integer","title":"Id"},"quiz_id":{"type":"integer","title":"Quiz Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Score"},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"personality_content":{"anyOf":[{"$ref":"#/components/schemas/PersonalityContentResponse"},{"type":"null"}]}},"type":"object","required":["id","quiz_id","user_id","score","personality","created_at"],"title":"DetailedResultResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PersonalityContentResponse":{"properties":{"personality":{"type":"string","title":"Personality"},"quote":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quote"},"gif_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Gif Url"},"joke":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Joke"}},"type":"object","required":["personality","quote","gif_url","joke"],"title":"PersonalityContentResponse"},"Question":{"properties":{"text":{"type":"string","title":"Text"},"id":{"type":"integer","title":"Id"},"quiz_id":{"type":"integer","title":"Quiz Id"},"answers":{"items":{"$ref":"#/components/schemas/Answer"},"type":"array","title":"Answers","default":[]}},"type":"object","required":["text","id","quiz_id"],"title":"Question"},"QuestionCreate":{"properties":{"text":{"type":"string","title":"Text"},"answers":{"items":{"$ref":"#/components/schemas/AnswerCreate"},"type":"array","title":"Answers"}},"type":"object","required":["text","answers"],"title":"QuestionCreate"},"Quiz":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"type":"string","title":"Type"},"id":{"type":"integer","title":"Id"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"questions":{"items":{"$ref":"#/components/schemas/Question"},"type":"array","title":"Questions","default":[]}},"type":"object","required":["title","type","id","created_by","created_at"],"title":"Quiz"},"QuizCreate":{"properties":{"title":{"type":"string","title":"Title"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"type":"string","title":"Type"},"questions":{"items":{"$ref":"#/components/schemas/QuestionCreate"},"type":"array","title":"Questions"},"created_by":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Created By"}},"type":"object","required":["title","type","questions"],"title":"QuizCreate"},"QuizSubmission":{"properties":{"quiz_id":{"type":"integer","title":"Quiz Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"answers":{"items":{"type":"integer"},"type":"array","title":"Answers"}},"type":"object","required":["quiz_id","answers"],"title":"QuizSubmission"},"ResultResponse":{"properties":{"id":{"type":"integer","title":"Id"},"quiz_id":{"type":"integer","title":"Quiz Id"},"user_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"User Id"},"score":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Score"},"personality":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Personality"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","quiz_id","user_id","score","personality","created_at"],"title":"ResultResponse"},"SuggestionRequest":{"properties":{"suggestion_text":{"type":"string","title":"Suggestion Text"}},"type":"object","required":["suggestion_text"],"title":"SuggestionRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}

